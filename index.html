<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet-search.css">
        <link rel="stylesheet" href="css/filter.css">
<link rel="stylesheet" href="css/nouislider.min.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>Les dispositifs portés par les établissements signataires de la convention de coordination territoriale Nouvelle-Aquitaine dans les collèges et les lycées, favorisant la diversité sociale et territoriale des étudiants dans l'accès à l'enseignement supérieur</title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-search.js"></script>
        <script src="js/tailDT.js"></script>
<script src="js/nouislider.min.js"></script>
<script src="js/wNumb.js"></script>
        <script src="data/Limitesadministrativesdpartementales_1.js"></script>
        <script src="data/Indicateurscroisdloignementgographiqueetdepositionsociale_2.js"></script>
        <script src="data/AutresCampussiteUB_3.js"></script>
        <script src="data/SiegeUniversitdeBordeaux_4.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:true, maxZoom:28, minZoom:7
        }).fitBounds([[42.72836492912941,-4.664875277413073],[47.150467926175445,3.6578471326600415]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        document.querySelector(".leaflet-popup-pane").addEventListener("load", function(event) {
          var tagName = event.target.tagName,
            popup = map._popup;
          // Also check if flag is already set.
          if (tagName === "IMG" && popup && !popup._updated) {
            popup._updated = true; // Set flag to prevent looping.
            popup.update();
          }
        }, true);
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        map.createPane('pane_Fonddecarte_0');
        map.getPane('pane_Fonddecarte_0').style.zIndex = 400;
        var layer_Fonddecarte_0 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_Fonddecarte_0',
            opacity: 0.8,
            attribution: '<a href="https://www.openstreetmap.org/copyright">© OpenStreetMap contributors, CC-BY-SA</a>',
            minZoom: 7,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        layer_Fonddecarte_0;
        map.addLayer(layer_Fonddecarte_0);
        function pop_Limitesadministrativesdpartementales_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID_GEOFLA'] !== null ? autolinker.link(feature.properties['ID_GEOFLA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CODE_DEPT'] !== null ? autolinker.link(feature.properties['CODE_DEPT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOM_DEPT'] !== null ? autolinker.link(feature.properties['NOM_DEPT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CODE_CHF'] !== null ? autolinker.link(feature.properties['CODE_CHF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOM_CHF'] !== null ? autolinker.link(feature.properties['NOM_CHF'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['X_CHF_LIEU'] !== null ? autolinker.link(feature.properties['X_CHF_LIEU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Y_CHF_LIEU'] !== null ? autolinker.link(feature.properties['Y_CHF_LIEU'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['X_CENTROID'] !== null ? autolinker.link(feature.properties['X_CENTROID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Y_CENTROID'] !== null ? autolinker.link(feature.properties['Y_CENTROID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CODE_REG'] !== null ? autolinker.link(feature.properties['CODE_REG'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOM_REG'] !== null ? autolinker.link(feature.properties['NOM_REG'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['B_Effectif'] !== null ? autolinker.link(feature.properties['B_Effectif'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['B_Tx_DEPBA'] !== null ? autolinker.link(feature.properties['B_Tx_DEPBA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['B_Tx_DEP_1'] !== null ? autolinker.link(feature.properties['B_Tx_DEP_1'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['R_EFFECIF_'] !== null ? autolinker.link(feature.properties['R_EFFECIF_'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['R_Tx_DepRe'] !== null ? autolinker.link(feature.properties['R_Tx_DepRe'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['R_Tx_Dep_1'] !== null ? autolinker.link(feature.properties['R_Tx_Dep_1'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IPS_mean'] !== null ? autolinker.link(feature.properties['IPS_mean'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_Limitesadministrativesdpartementales_1_0() {
            return {
                pane: 'pane_Limitesadministrativesdpartementales_1',
                opacity: 1,
                color: 'rgba(82,82,82,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(204,204,204,0.0)',
                interactive: false,
            }
        }
        map.createPane('pane_Limitesadministrativesdpartementales_1');
        map.getPane('pane_Limitesadministrativesdpartementales_1').style.zIndex = 401;
        map.getPane('pane_Limitesadministrativesdpartementales_1').style['mix-blend-mode'] = 'normal';
        var layer_Limitesadministrativesdpartementales_1 = new L.geoJson(json_Limitesadministrativesdpartementales_1, {
            attribution: '',
            interactive: false,
            dataVar: 'json_Limitesadministrativesdpartementales_1',
            layerName: 'layer_Limitesadministrativesdpartementales_1',
            pane: 'pane_Limitesadministrativesdpartementales_1',
            onEachFeature: pop_Limitesadministrativesdpartementales_1,
            style: style_Limitesadministrativesdpartementales_1_0,
        });
        bounds_group.addLayer(layer_Limitesadministrativesdpartementales_1);
        map.addLayer(layer_Limitesadministrativesdpartementales_1);
        function pop_Indicateurscroisdloignementgographiqueetdepositionsociale_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Nom du lycée ou du collège</th>\
                        <td class="visible-with-data" id="Nom lycee/">' + (feature.properties['Nom lycee/'] !== null ? autolinker.link(feature.properties['Nom lycee/'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Catégorie du collège</th>\
                        <td class="visible-with-data" id="Indic Coll">' + (feature.properties['Indic Coll'] !== null ? autolinker.link(feature.properties['Indic Coll'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Catégorie du lycée</th>\
                        <td class="visible-with-data" id="Indic Lyc">' + (feature.properties['Indic Lyc'] !== null ? autolinker.link(feature.properties['Indic Lyc'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Situation relative à un QPV</th>\
                        <td class="visible-with-data" id="QPV">' + (feature.properties['QPV'] !== null ? autolinker.link(feature.properties['QPV'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Education prioritaire</th>\
                        <td class="visible-with-data" id="REP">' + (feature.properties['REP'] !== null ? autolinker.link(feature.properties['REP'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Dispositif d\'égalité des chances</th>\
                        <td class="visible-with-data" id="Dispositif">' + (feature.properties['Dispositif'] !== null ? autolinker.link(feature.properties['Dispositif'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Disp_Port'] !== null ? autolinker.link(feature.properties['Disp_Port'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IPS du lycée</th>\
                        <td class="visible-with-data" id="IPS_lyc">' + (feature.properties['IPS_lyc'] !== null ? autolinker.link(feature.properties['IPS_lyc'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">IPS du collège</th>\
                        <td class="visible-with-data" id="IPS_Colleg">' + (feature.properties['IPS_Colleg'] !== null ? autolinker.link(feature.properties['IPS_Colleg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IPS_NA'] !== null ? autolinker.link(feature.properties['IPS_NA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IPS_Fr'] !== null ? autolinker.link(feature.properties['IPS_Fr'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Indice d\'éloignement du lycée</th>\
                        <td class="visible-with-data" id="IEL_lyc">' + (feature.properties['IEL_lyc'] !== null ? autolinker.link(feature.properties['IEL_lyc'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Indice d\'éloignement du collège</th>\
                        <td class="visible-with-data" id="IEG_Colleg">' + (feature.properties['IEG_Colleg'] !== null ? autolinker.link(feature.properties['IEG_Colleg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IEL_NA'] !== null ? autolinker.link(feature.properties['IEL_NA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['IEL_FR'] !== null ? autolinker.link(feature.properties['IEL_FR'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Nombre d\'heure d\'enseignement par élève</th>\
                        <td class="visible-with-data" id="H/E">' + (feature.properties['H/E'] !== null ? autolinker.link(feature.properties['H/E'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Taux de réussite bac GT</th>\
                        <td class="visible-with-data" id="R_BacGT">' + (feature.properties['R_BacGT'] !== null ? autolinker.link(feature.properties['R_BacGT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Taux de réussite bac Pro</th>\
                        <td class="visible-with-data" id="R_BacPro">' + (feature.properties['R_BacPro'] !== null ? autolinker.link(feature.properties['R_BacPro'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Taux de réussite au brevet</th>\
                        <td class="visible-with-data" id="R_DNB">' + (feature.properties['R_DNB'] !== null ? autolinker.link(feature.properties['R_DNB'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }
        function style_Indicateurscroisdloignementgographiqueetdepositionsociale_2_0(feature) {
            var context = {
                feature: feature,
                variables: {}
            };
            // Start of if blocks and style check logic
            if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule0_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(97,31,83,0.47058823529411764)',
                interactive: true,
            };
                }
                else if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule1_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(203,27,79,0.5490196078431373)',
                interactive: true,
            };
                }
                else if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule2_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(245,136,96,0.5254901960784314)',
                interactive: true,
            };
                }
                else if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule3_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 8.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,245,240,0.8392156862745098)',
                interactive: true,
            };
                }
                else if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule4_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 4.4,
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 3.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            };
                }
                else if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule5_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 4.4,
                opacity: 1,
                color: 'rgba(194,28,77,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 3.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            };
                }
                else if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule6_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 4.4,
                opacity: 1,
                color: 'rgba(253,191,111,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 3.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            };
                }
                else if (exp_Indicateurscroisdloignementgographiqueetdepositionsociale_2rule7_eval_expression(context)) {
                  return {
                pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
                radius: 4.4,
                opacity: 1,
                color: 'rgba(255,245,240,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 4.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            };
                }
            else {
                return {fill: false, stroke: false};
            }
        }
        map.createPane('pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2');
        map.getPane('pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2').style.zIndex = 402;
        map.getPane('pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2').style['mix-blend-mode'] = 'normal';
        var layer_Indicateurscroisdloignementgographiqueetdepositionsociale_2 = new L.geoJson(json_Indicateurscroisdloignementgographiqueetdepositionsociale_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
            layerName: 'layer_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
            pane: 'pane_Indicateurscroisdloignementgographiqueetdepositionsociale_2',
            onEachFeature: pop_Indicateurscroisdloignementgographiqueetdepositionsociale_2,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Indicateurscroisdloignementgographiqueetdepositionsociale_2_0(feature));
            },
        });
        bounds_group.addLayer(layer_Indicateurscroisdloignementgographiqueetdepositionsociale_2);
        map.addLayer(layer_Indicateurscroisdloignementgographiqueetdepositionsociale_2);
        function pop_AutresCampussiteUB_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Campus/site</th>\
                        <td class="visible-with-data" id="Site_Campu">' + (feature.properties['Site_Campu'] !== null ? autolinker.link(feature.properties['Site_Campu'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_AutresCampussiteUB_3_0() {
            return {
                pane: 'pane_AutresCampussiteUB_3',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/AutresCampussiteUB_3.svg',
            iconSize: [22.799999999999997, 22.799999999999997]
        }),
                interactive: true,
            }
        }
        map.createPane('pane_AutresCampussiteUB_3');
        map.getPane('pane_AutresCampussiteUB_3').style.zIndex = 403;
        map.getPane('pane_AutresCampussiteUB_3').style['mix-blend-mode'] = 'normal';
        var layer_AutresCampussiteUB_3 = new L.geoJson(json_AutresCampussiteUB_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_AutresCampussiteUB_3',
            layerName: 'layer_AutresCampussiteUB_3',
            pane: 'pane_AutresCampussiteUB_3',
            onEachFeature: pop_AutresCampussiteUB_3,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_AutresCampussiteUB_3_0(feature));
            },
        });
        bounds_group.addLayer(layer_AutresCampussiteUB_3);
        map.addLayer(layer_AutresCampussiteUB_3);
        function pop_SiegeUniversitdeBordeaux_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Campus/site</th>\
                        <td class="visible-with-data" id="Site_Campu">' + (feature.properties['Site_Campu'] !== null ? autolinker.link(feature.properties['Site_Campu'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Porteur</th>\
                        <td class="visible-with-data" id="Porteur">' + (feature.properties['Porteur'] !== null ? autolinker.link(feature.properties['Porteur'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Plan d\'action à destination du 2nd degré</strong><br />' + (feature.properties['Plan actio'] !== null ? autolinker.link(feature.properties['Plan actio'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['l1'] !== null ? autolinker.link(feature.properties['l1'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['l2'] !== null ? autolinker.link(feature.properties['l2'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['lien'] !== null ? autolinker.link(feature.properties['lien'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">contact</th>\
                        <td class="visible-with-data" id="contact">' + (feature.properties['contact'] !== null ? autolinker.link(feature.properties['contact'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['USE'] !== null ? '<img src="images/' + String(feature.properties['USE']).replace(/[\\\/:]/g, '_').trim() + '">' : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
            var popup = layer.getPopup();
            var content = popup.getContent();
            var updatedContent = removeEmptyRowsFromPopupContent(content, feature);
            popup.setContent(updatedContent);
        }

        function style_SiegeUniversitdeBordeaux_4_0() {
            return {
                pane: 'pane_SiegeUniversitdeBordeaux_4',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/SiegeUniversitdeBordeaux_4.svg',
            iconSize: [38.0, 38.0]
        }),
                interactive: true,
            }
        }
        map.createPane('pane_SiegeUniversitdeBordeaux_4');
        map.getPane('pane_SiegeUniversitdeBordeaux_4').style.zIndex = 404;
        map.getPane('pane_SiegeUniversitdeBordeaux_4').style['mix-blend-mode'] = 'normal';
        var layer_SiegeUniversitdeBordeaux_4 = new L.geoJson(json_SiegeUniversitdeBordeaux_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_SiegeUniversitdeBordeaux_4',
            layerName: 'layer_SiegeUniversitdeBordeaux_4',
            pane: 'pane_SiegeUniversitdeBordeaux_4',
            onEachFeature: pop_SiegeUniversitdeBordeaux_4,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_SiegeUniversitdeBordeaux_4_0(feature));
            },
        });
        bounds_group.addLayer(layer_SiegeUniversitdeBordeaux_4);
        map.addLayer(layer_SiegeUniversitdeBordeaux_4);
            var title = new L.Control();
            title.onAdd = function (map) {
                this._div = L.DomUtil.create('div', 'info');
                this.update();
                return this._div;
            };
            title.update = function () {
                this._div.innerHTML = '<h2>Les dispositifs portés par les établissements signataires de la convention de coordination territoriale Nouvelle-Aquitaine dans les collèges et les lycées, favorisant la diversité sociale et territoriale des étudiants dans l\'accès à l\'enseignement supérieur</h2>';
            };
            title.addTo(map);
            var abstract = new L.Control({'position':'topright'});
            abstract.onAdd = function (map) {
                this._div = L.DomUtil.create('div',
                'leaflet-control abstract');
                this._div.id = 'abstract'
                    this._div.setAttribute("onmouseenter", "abstract.show()");
                    this._div.setAttribute("onmouseleave", "abstract.hide()");
                    this.hide();
                    return this._div;
                };
                abstract.hide = function () {
                    this._div.classList.remove("abstractUncollapsed");
                    this._div.classList.add("abstract");
                    this._div.innerHTML = 'i'
                }
                abstract.show = function () {
                    this._div.classList.remove("abstract");
                    this._div.classList.add("abstractUncollapsed");
                    this._div.innerHTML = 'Cette carte représente les indicateurs d\'IPS et d\'éloignement des  lycées et des collèges de la Région Nouvelle Aquitaine selon le nombre de dispositifs d\'égalité des chances portés par les établissements de l\'ESR signataires de la Convention de coordination territoriale Nouvelle Aquitaine.<br /><br />Données : <br /><br /> - IPS = l\'Indice de position sociale résume le capital social, économique et culturel de la famille dans le rapport de l\'élève à l\'école. La valeur de l\'IPS est d\'autant plus élevée que la PCS est considérée comme favorable à la réussite scolaire de l\'élève. Dans la région, cette indice pour les lycées varie de 69 à 145, et de 59 à 64 à 145 pour les collèges. <br /><br />- Indice d\'éloignement à l\'ESR = Cet indice permet de synthétiser en un indicateur la notion d\'éloignement pour un établissement donnée. Il permet de prendre en compte les différents aspects de la ruralité et de l\'éloignement des établissements ainsi que de classer tous les établissements de manière continue, du moins "éloigné" au plus "éloigné" et de fournir ainsi une approche relative. Il est calculé uniquement pour les lycées. <br /><br />- Dispositifs d\'égalité des chances portés par les établissements de la CCT, recensés au 30 janvier 2023, comprenant : les cordées de la réussite (JPPJV et hors JPPJV), les grands projets PIA (ACCES et CODA) ainsi que le dispositif Pass\'en Sup.<br /><br />Champs : <br /><br />Les indices par établissement sont calculés pour les lycées de France métropolitaine et DROM, publics et privés sous contrat, à partir des données de la rentrée N et pour les élèves du second cycle uniquement. Les indices de chaque établissement sont déclinés pour les élèves de la voie générale et technologique uniquement, pour les élèves de la voie professionnelle uniquement, et pour l’ensemble des élèves du second cycle.<br /><br /><br />Description de l\'indicateur composite :<br /><br />Un lycée est défavorisé (respectivement favorisé) lorsque son IPS est inférieur (supérieur) à la médiane de l\'IPS des lycées de la région ;<br />Un lycée est éloigné (respectivement proche) lorsque son indice d\'éloignement est supérieur (inférieur) à la médiane de l\'indice d\'éloignement des lycées de la région ; <br />Un collège est favorisé lorsque son IPS est supérieur à la médiane de l\'IPS des collèges de la région.  <br /><br />Sources :  <br /><br />Mission d\'appui à l\'orientation et l\'insertion professionnelle (MAOIP), Université de Bordeaux<br />Direction de l\'évaluation, de la prospective et de la performance (DEPP), Minstère de l\'éducation nationale (MEN)<br /><br />Cartographie : <br /><br />Service de coordination des études et enquêtes (CT2E), Université de Bordeaux';
            };
            abstract.addTo(map);
        var baseMaps = {};
        L.control.layers(baseMaps,{'<img src="legend/SiegeUniversitdeBordeaux_4.png" /> Siege Université de Bordeaux': layer_SiegeUniversitdeBordeaux_4,'<img src="legend/AutresCampussiteUB_3.png" /> Autres Campus/site UB': layer_AutresCampussiteUB_3,'Indicateurs croisé d\'éloignement géographique et de position sociale<br /><table><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Lycéesdéfavorisésetéloignés0.png" /></td><td>Lycées défavorisés et éloignés</td></tr><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Lycéesdéfavorisésetproches1.png" /></td><td>Lycées défavorisés et proches</td></tr><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Lycéesfavorisésetéloignés2.png" /></td><td>Lycées favorisés et éloignés</td></tr><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Lycéesfavorisésetproches3.png" /></td><td>Lycées favorisés et proches</td></tr><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Collègesdéfavorisésetéloignés4.png" /></td><td>Collèges défavorisés et éloignés</td></tr><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Collègesdéfavorisésetproches5.png" /></td><td>Collèges défavorisés et proches</td></tr><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Collègesfavorisésetéloignés6.png" /></td><td>Collèges favorisés et éloignés</td></tr><tr><td style="text-align: center;"><img src="legend/Indicateurscroisdloignementgographiqueetdepositionsociale_2_Collègesfavorisésetproches7.png" /></td><td>Collèges favorisés et proches</td></tr></table>': layer_Indicateurscroisdloignementgographiqueetdepositionsociale_2,'<img src="legend/Limitesadministrativesdpartementales_1.png" /> Limites administratives départementales': layer_Limitesadministrativesdpartementales_1,"Fond de carte": layer_Fonddecarte_0,}).addTo(map);
        setBounds();
        map.addControl(new L.Control.Search({
            layer: layer_Indicateurscroisdloignementgographiqueetdepositionsociale_2,
            initial: false,
            hideMarkerOnCollapse: true,
            propertyName: 'Nom lycee/'}));
        document.getElementsByClassName('search-button')[0].className +=
         ' fa fa-binoculars';
        var mapDiv = document.getElementById('map');
        var row = document.createElement('div');
        row.className="row";
        row.id="all";
        row.style.height = "100%";
        var col1 = document.createElement('div');
        col1.className="col9";
        col1.id = "mapWindow";
        col1.style.height = "99%";
        col1.style.width = "80%";
        col1.style.display = "inline-block";
        var col2 = document.createElement('div');
        col2.className="col3";
        col2.id = "menu";
        col2.style.display = "inline-block";
        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);
        col1.appendChild(mapDiv)
        var Filters = {"Dispositif": "int","BSA": "str","IEP Bdx": "str","INP": "str","LRU": "str","UB": "str","UBM": "str","UL": "str","UPPA": "str","Indic Lyc": "str","Indic Coll": "str","ACCES": "str","CODA": "str","Cordees": "str","JPPJV": "str","PassEnSup": "str","Nature": "str"};
        function filterFunc() {
          map.eachLayer(function(lyr){
          if ("options" in lyr && "dataVar" in lyr["options"]){
            features = this[lyr["options"]["dataVar"]].features.slice(0);
            try{
              for (key in Filters){
                keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                if (Filters[key] == "str" || Filters[key] == "bool"){
                  var selection = [];
                  var options = document.getElementById("sel_" + keyS).options
                  for (var i=0; i < options.length; i++) {
                    if (options[i].selected) selection.push(options[i].value);
                  }
                    try{
                      if (key in features[0].properties){
                        for (i = features.length - 1;
                          i >= 0; --i){
                          if (selection.indexOf(
                          features[i].properties[key])<0
                          && selection.length>0) {
                          features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                  }
                }
                if (Filters[key] == "int"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (parseInt(features[i].properties[key])
                          < sliderVals[0]
                          || parseInt(features[i].properties[key])
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "real"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (features[i].properties[key]
                          < sliderVals[0]
                          || features[i].properties[key]
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "date"
                  || Filters[key] == "datetime"
                  || Filters[key] == "time"){
                  try{
                    if (key in features[0].properties){
                      HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                      startdate = document.getElementById("dat_" +
                        HTMLkey + "_date1").value.replace(" ", "T");
                      enddate = document.getElementById("dat_" +
                        HTMLkey + "_date2").value.replace(" ", "T");
                      for (i = features.length - 1; i >= 0; --i){
                        if (features[i].properties[key] < startdate
                          || features[i].properties[key] > enddate){
                          features.splice(i,1);
                        }
                      }
                    }
                  } catch(err){
                  }
                }
              }
            } catch(err){
            }
          this[lyr["options"]["layerName"]].clearLayers();
          this[lyr["options"]["layerName"]].addData(features);
          }
          })
        }
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Dispositif = document.createElement("div");
            div_Dispositif.id = "div_Dispositif";
            div_Dispositif.className = "slider";
            document.getElementById("menu").appendChild(div_Dispositif);
            var lab_Dispositif = document.createElement('div');
            lab_Dispositif.innerHTML  = 'Dispositif: <span id="val_Dispositif"></span>';
            lab_Dispositif.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_Dispositif);
            var reset_Dispositif = document.createElement('div');
            reset_Dispositif.innerHTML = 'clear filter';
            reset_Dispositif.className = 'filterlabel';
            lab_Dispositif.className = 'filterlabel';
            reset_Dispositif.onclick = function() {
                sel_Dispositif.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_Dispositif);
            var sel_Dispositif = document.getElementById('div_Dispositif');
            noUiSlider.create(sel_Dispositif, {
                connect: true,
                start: [0, 4],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 0,
                max: 4
                }
            });
            sel_Dispositif.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_Dispositif = document.getElementById('val_Dispositif');
            val_Dispositif.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_BSA = document.createElement('div');
            div_BSA.id = "div_BSA";
            div_BSA.className= "filterselect";
            document.getElementById("menu").appendChild(div_BSA);
            sel_BSA = document.createElement('select');
            sel_BSA.multiple = true;
            sel_BSA.size = 2;
            sel_BSA.id = "sel_BSA";
            var BSA_options_str = "<option value='' unselected></option>";
            sel_BSA.onchange = function(){filterFunc()};
            BSA_options_str  += '<option value="Avec BSA">Avec BSA</option>';
            BSA_options_str  += '<option value="Sans BSA">Sans BSA</option>';
            sel_BSA.innerHTML = BSA_options_str;
            div_BSA.appendChild(sel_BSA);
            var lab_BSA = document.createElement('div');
            lab_BSA.innerHTML = 'BSA';
            lab_BSA.className = 'filterlabel';
            div_BSA.appendChild(lab_BSA);
            var reset_BSA = document.createElement('div');
            reset_BSA.innerHTML = 'clear filter';
            reset_BSA.className = 'filterlabel';
            reset_BSA.onclick = function() {
                var options = document.getElementById("sel_BSA").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_BSA.appendChild(reset_BSA);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_IEPBdx = document.createElement('div');
            div_IEPBdx.id = "div_IEPBdx";
            div_IEPBdx.className= "filterselect";
            document.getElementById("menu").appendChild(div_IEPBdx);
            sel_IEPBdx = document.createElement('select');
            sel_IEPBdx.multiple = true;
            sel_IEPBdx.size = 2;
            sel_IEPBdx.id = "sel_IEPBdx";
            var IEPBdx_options_str = "<option value='' unselected></option>";
            sel_IEPBdx.onchange = function(){filterFunc()};
            IEPBdx_options_str  += '<option value="Avec SPB">Avec SPB</option>';
            IEPBdx_options_str  += '<option value="Sans SPB">Sans SPB</option>';
            sel_IEPBdx.innerHTML = IEPBdx_options_str;
            div_IEPBdx.appendChild(sel_IEPBdx);
            var lab_IEPBdx = document.createElement('div');
            lab_IEPBdx.innerHTML = 'IEP Bdx';
            lab_IEPBdx.className = 'filterlabel';
            div_IEPBdx.appendChild(lab_IEPBdx);
            var reset_IEPBdx = document.createElement('div');
            reset_IEPBdx.innerHTML = 'clear filter';
            reset_IEPBdx.className = 'filterlabel';
            reset_IEPBdx.onclick = function() {
                var options = document.getElementById("sel_IEPBdx").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_IEPBdx.appendChild(reset_IEPBdx);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_INP = document.createElement('div');
            div_INP.id = "div_INP";
            div_INP.className= "filterselect";
            document.getElementById("menu").appendChild(div_INP);
            sel_INP = document.createElement('select');
            sel_INP.multiple = true;
            sel_INP.size = 2;
            sel_INP.id = "sel_INP";
            var INP_options_str = "<option value='' unselected></option>";
            sel_INP.onchange = function(){filterFunc()};
            INP_options_str  += '<option value="Avec BX INP">Avec BX INP</option>';
            INP_options_str  += '<option value="Sans BX INP">Sans BX INP</option>';
            sel_INP.innerHTML = INP_options_str;
            div_INP.appendChild(sel_INP);
            var lab_INP = document.createElement('div');
            lab_INP.innerHTML = 'INP';
            lab_INP.className = 'filterlabel';
            div_INP.appendChild(lab_INP);
            var reset_INP = document.createElement('div');
            reset_INP.innerHTML = 'clear filter';
            reset_INP.className = 'filterlabel';
            reset_INP.onclick = function() {
                var options = document.getElementById("sel_INP").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_INP.appendChild(reset_INP);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_LRU = document.createElement('div');
            div_LRU.id = "div_LRU";
            div_LRU.className= "filterselect";
            document.getElementById("menu").appendChild(div_LRU);
            sel_LRU = document.createElement('select');
            sel_LRU.multiple = true;
            sel_LRU.size = 2;
            sel_LRU.id = "sel_LRU";
            var LRU_options_str = "<option value='' unselected></option>";
            sel_LRU.onchange = function(){filterFunc()};
            LRU_options_str  += '<option value="Avec LRU">Avec LRU</option>';
            LRU_options_str  += '<option value="Sans LRU">Sans LRU</option>';
            sel_LRU.innerHTML = LRU_options_str;
            div_LRU.appendChild(sel_LRU);
            var lab_LRU = document.createElement('div');
            lab_LRU.innerHTML = 'LRU';
            lab_LRU.className = 'filterlabel';
            div_LRU.appendChild(lab_LRU);
            var reset_LRU = document.createElement('div');
            reset_LRU.innerHTML = 'clear filter';
            reset_LRU.className = 'filterlabel';
            reset_LRU.onclick = function() {
                var options = document.getElementById("sel_LRU").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_LRU.appendChild(reset_LRU);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_UB = document.createElement('div');
            div_UB.id = "div_UB";
            div_UB.className= "filterselect";
            document.getElementById("menu").appendChild(div_UB);
            sel_UB = document.createElement('select');
            sel_UB.multiple = true;
            sel_UB.size = 2;
            sel_UB.id = "sel_UB";
            var UB_options_str = "<option value='' unselected></option>";
            sel_UB.onchange = function(){filterFunc()};
            UB_options_str  += '<option value="Avec UB">Avec UB</option>';
            UB_options_str  += '<option value="Sans UB">Sans UB</option>';
            sel_UB.innerHTML = UB_options_str;
            div_UB.appendChild(sel_UB);
            var lab_UB = document.createElement('div');
            lab_UB.innerHTML = 'UB';
            lab_UB.className = 'filterlabel';
            div_UB.appendChild(lab_UB);
            var reset_UB = document.createElement('div');
            reset_UB.innerHTML = 'clear filter';
            reset_UB.className = 'filterlabel';
            reset_UB.onclick = function() {
                var options = document.getElementById("sel_UB").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_UB.appendChild(reset_UB);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_UBM = document.createElement('div');
            div_UBM.id = "div_UBM";
            div_UBM.className= "filterselect";
            document.getElementById("menu").appendChild(div_UBM);
            sel_UBM = document.createElement('select');
            sel_UBM.multiple = true;
            sel_UBM.size = 2;
            sel_UBM.id = "sel_UBM";
            var UBM_options_str = "<option value='' unselected></option>";
            sel_UBM.onchange = function(){filterFunc()};
            UBM_options_str  += '<option value="Avec UBM">Avec UBM</option>';
            UBM_options_str  += '<option value="Sans UBM">Sans UBM</option>';
            sel_UBM.innerHTML = UBM_options_str;
            div_UBM.appendChild(sel_UBM);
            var lab_UBM = document.createElement('div');
            lab_UBM.innerHTML = 'UBM';
            lab_UBM.className = 'filterlabel';
            div_UBM.appendChild(lab_UBM);
            var reset_UBM = document.createElement('div');
            reset_UBM.innerHTML = 'clear filter';
            reset_UBM.className = 'filterlabel';
            reset_UBM.onclick = function() {
                var options = document.getElementById("sel_UBM").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_UBM.appendChild(reset_UBM);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_UL = document.createElement('div');
            div_UL.id = "div_UL";
            div_UL.className= "filterselect";
            document.getElementById("menu").appendChild(div_UL);
            sel_UL = document.createElement('select');
            sel_UL.multiple = true;
            sel_UL.size = 2;
            sel_UL.id = "sel_UL";
            var UL_options_str = "<option value='' unselected></option>";
            sel_UL.onchange = function(){filterFunc()};
            UL_options_str  += '<option value="Avec UniLim">Avec UniLim</option>';
            UL_options_str  += '<option value="Sans UniLim">Sans UniLim</option>';
            sel_UL.innerHTML = UL_options_str;
            div_UL.appendChild(sel_UL);
            var lab_UL = document.createElement('div');
            lab_UL.innerHTML = 'UL';
            lab_UL.className = 'filterlabel';
            div_UL.appendChild(lab_UL);
            var reset_UL = document.createElement('div');
            reset_UL.innerHTML = 'clear filter';
            reset_UL.className = 'filterlabel';
            reset_UL.onclick = function() {
                var options = document.getElementById("sel_UL").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_UL.appendChild(reset_UL);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_UPPA = document.createElement('div');
            div_UPPA.id = "div_UPPA";
            div_UPPA.className= "filterselect";
            document.getElementById("menu").appendChild(div_UPPA);
            sel_UPPA = document.createElement('select');
            sel_UPPA.multiple = true;
            sel_UPPA.size = 2;
            sel_UPPA.id = "sel_UPPA";
            var UPPA_options_str = "<option value='' unselected></option>";
            sel_UPPA.onchange = function(){filterFunc()};
            UPPA_options_str  += '<option value="Avec UPPA">Avec UPPA</option>';
            UPPA_options_str  += '<option value="Sans UPPA">Sans UPPA</option>';
            sel_UPPA.innerHTML = UPPA_options_str;
            div_UPPA.appendChild(sel_UPPA);
            var lab_UPPA = document.createElement('div');
            lab_UPPA.innerHTML = 'UPPA';
            lab_UPPA.className = 'filterlabel';
            div_UPPA.appendChild(lab_UPPA);
            var reset_UPPA = document.createElement('div');
            reset_UPPA.innerHTML = 'clear filter';
            reset_UPPA.className = 'filterlabel';
            reset_UPPA.onclick = function() {
                var options = document.getElementById("sel_UPPA").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_UPPA.appendChild(reset_UPPA);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_IndicLyc = document.createElement('div');
            div_IndicLyc.id = "div_IndicLyc";
            div_IndicLyc.className= "filterselect";
            document.getElementById("menu").appendChild(div_IndicLyc);
            sel_IndicLyc = document.createElement('select');
            sel_IndicLyc.multiple = true;
            sel_IndicLyc.size = 5;
            sel_IndicLyc.id = "sel_IndicLyc";
            var IndicLyc_options_str = "<option value='' unselected></option>";
            sel_IndicLyc.onchange = function(){filterFunc()};
            IndicLyc_options_str  += '<option value="Lycees defavorises & eloignes">Lycees defavorises & eloignes</option>';
            IndicLyc_options_str  += '<option value="Lycees defavorises & proches">Lycees defavorises & proches</option>';
            IndicLyc_options_str  += '<option value="Lycees favorises & eloignes">Lycees favorises & eloignes</option>';
            IndicLyc_options_str  += '<option value="Lycees favorises & proches">Lycees favorises & proches</option>';
            IndicLyc_options_str  += '<option value="Sans valeur">Sans valeur</option>';
            sel_IndicLyc.innerHTML = IndicLyc_options_str;
            div_IndicLyc.appendChild(sel_IndicLyc);
            var lab_IndicLyc = document.createElement('div');
            lab_IndicLyc.innerHTML = 'Indic Lyc';
            lab_IndicLyc.className = 'filterlabel';
            div_IndicLyc.appendChild(lab_IndicLyc);
            var reset_IndicLyc = document.createElement('div');
            reset_IndicLyc.innerHTML = 'clear filter';
            reset_IndicLyc.className = 'filterlabel';
            reset_IndicLyc.onclick = function() {
                var options = document.getElementById("sel_IndicLyc").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_IndicLyc.appendChild(reset_IndicLyc);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_IndicColl = document.createElement('div');
            div_IndicColl.id = "div_IndicColl";
            div_IndicColl.className= "filterselect";
            document.getElementById("menu").appendChild(div_IndicColl);
            sel_IndicColl = document.createElement('select');
            sel_IndicColl.multiple = true;
            sel_IndicColl.size = 5;
            sel_IndicColl.id = "sel_IndicColl";
            var IndicColl_options_str = "<option value='' unselected></option>";
            sel_IndicColl.onchange = function(){filterFunc()};
            IndicColl_options_str  += '<option value="Defavorise Eloigne">Defavorise Eloigne</option>';
            IndicColl_options_str  += '<option value="Defavorise Proche">Defavorise Proche</option>';
            IndicColl_options_str  += '<option value="Favorise Eloigne">Favorise Eloigne</option>';
            IndicColl_options_str  += '<option value="Favorise Proche">Favorise Proche</option>';
            IndicColl_options_str  += '<option value="Sans valeur">Sans valeur</option>';
            sel_IndicColl.innerHTML = IndicColl_options_str;
            div_IndicColl.appendChild(sel_IndicColl);
            var lab_IndicColl = document.createElement('div');
            lab_IndicColl.innerHTML = 'Indic Coll';
            lab_IndicColl.className = 'filterlabel';
            div_IndicColl.appendChild(lab_IndicColl);
            var reset_IndicColl = document.createElement('div');
            reset_IndicColl.innerHTML = 'clear filter';
            reset_IndicColl.className = 'filterlabel';
            reset_IndicColl.onclick = function() {
                var options = document.getElementById("sel_IndicColl").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_IndicColl.appendChild(reset_IndicColl);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_ACCES = document.createElement('div');
            div_ACCES.id = "div_ACCES";
            div_ACCES.className= "filterselect";
            document.getElementById("menu").appendChild(div_ACCES);
            sel_ACCES = document.createElement('select');
            sel_ACCES.multiple = true;
            sel_ACCES.size = 2;
            sel_ACCES.id = "sel_ACCES";
            var ACCES_options_str = "<option value='' unselected></option>";
            sel_ACCES.onchange = function(){filterFunc()};
            ACCES_options_str  += '<option value="Avec ACCES">Avec ACCES</option>';
            ACCES_options_str  += '<option value="Sans ACCES">Sans ACCES</option>';
            sel_ACCES.innerHTML = ACCES_options_str;
            div_ACCES.appendChild(sel_ACCES);
            var lab_ACCES = document.createElement('div');
            lab_ACCES.innerHTML = 'ACCES';
            lab_ACCES.className = 'filterlabel';
            div_ACCES.appendChild(lab_ACCES);
            var reset_ACCES = document.createElement('div');
            reset_ACCES.innerHTML = 'clear filter';
            reset_ACCES.className = 'filterlabel';
            reset_ACCES.onclick = function() {
                var options = document.getElementById("sel_ACCES").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_ACCES.appendChild(reset_ACCES);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_CODA = document.createElement('div');
            div_CODA.id = "div_CODA";
            div_CODA.className= "filterselect";
            document.getElementById("menu").appendChild(div_CODA);
            sel_CODA = document.createElement('select');
            sel_CODA.multiple = true;
            sel_CODA.size = 2;
            sel_CODA.id = "sel_CODA";
            var CODA_options_str = "<option value='' unselected></option>";
            sel_CODA.onchange = function(){filterFunc()};
            CODA_options_str  += '<option value="Avec CODA">Avec CODA</option>';
            CODA_options_str  += '<option value="Sans CODA">Sans CODA</option>';
            sel_CODA.innerHTML = CODA_options_str;
            div_CODA.appendChild(sel_CODA);
            var lab_CODA = document.createElement('div');
            lab_CODA.innerHTML = 'CODA';
            lab_CODA.className = 'filterlabel';
            div_CODA.appendChild(lab_CODA);
            var reset_CODA = document.createElement('div');
            reset_CODA.innerHTML = 'clear filter';
            reset_CODA.className = 'filterlabel';
            reset_CODA.onclick = function() {
                var options = document.getElementById("sel_CODA").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_CODA.appendChild(reset_CODA);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Cordees = document.createElement('div');
            div_Cordees.id = "div_Cordees";
            div_Cordees.className= "filterselect";
            document.getElementById("menu").appendChild(div_Cordees);
            sel_Cordees = document.createElement('select');
            sel_Cordees.multiple = true;
            sel_Cordees.size = 2;
            sel_Cordees.id = "sel_Cordees";
            var Cordees_options_str = "<option value='' unselected></option>";
            sel_Cordees.onchange = function(){filterFunc()};
            Cordees_options_str  += '<option value="Avec cordees">Avec cordees</option>';
            Cordees_options_str  += '<option value="Sans cordees">Sans cordees</option>';
            sel_Cordees.innerHTML = Cordees_options_str;
            div_Cordees.appendChild(sel_Cordees);
            var lab_Cordees = document.createElement('div');
            lab_Cordees.innerHTML = 'Cordees';
            lab_Cordees.className = 'filterlabel';
            div_Cordees.appendChild(lab_Cordees);
            var reset_Cordees = document.createElement('div');
            reset_Cordees.innerHTML = 'clear filter';
            reset_Cordees.className = 'filterlabel';
            reset_Cordees.onclick = function() {
                var options = document.getElementById("sel_Cordees").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Cordees.appendChild(reset_Cordees);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_JPPJV = document.createElement('div');
            div_JPPJV.id = "div_JPPJV";
            div_JPPJV.className= "filterselect";
            document.getElementById("menu").appendChild(div_JPPJV);
            sel_JPPJV = document.createElement('select');
            sel_JPPJV.multiple = true;
            sel_JPPJV.size = 2;
            sel_JPPJV.id = "sel_JPPJV";
            var JPPJV_options_str = "<option value='' unselected></option>";
            sel_JPPJV.onchange = function(){filterFunc()};
            JPPJV_options_str  += '<option value="Avec JPPJV">Avec JPPJV</option>';
            JPPJV_options_str  += '<option value="Sans JPPJV">Sans JPPJV</option>';
            sel_JPPJV.innerHTML = JPPJV_options_str;
            div_JPPJV.appendChild(sel_JPPJV);
            var lab_JPPJV = document.createElement('div');
            lab_JPPJV.innerHTML = 'JPPJV';
            lab_JPPJV.className = 'filterlabel';
            div_JPPJV.appendChild(lab_JPPJV);
            var reset_JPPJV = document.createElement('div');
            reset_JPPJV.innerHTML = 'clear filter';
            reset_JPPJV.className = 'filterlabel';
            reset_JPPJV.onclick = function() {
                var options = document.getElementById("sel_JPPJV").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_JPPJV.appendChild(reset_JPPJV);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_PassEnSup = document.createElement('div');
            div_PassEnSup.id = "div_PassEnSup";
            div_PassEnSup.className= "filterselect";
            document.getElementById("menu").appendChild(div_PassEnSup);
            sel_PassEnSup = document.createElement('select');
            sel_PassEnSup.multiple = true;
            sel_PassEnSup.size = 2;
            sel_PassEnSup.id = "sel_PassEnSup";
            var PassEnSup_options_str = "<option value='' unselected></option>";
            sel_PassEnSup.onchange = function(){filterFunc()};
            PassEnSup_options_str  += '<option value="Avec PassEnSup">Avec PassEnSup</option>';
            PassEnSup_options_str  += '<option value="Sans PassEnSup">Sans PassEnSup</option>';
            sel_PassEnSup.innerHTML = PassEnSup_options_str;
            div_PassEnSup.appendChild(sel_PassEnSup);
            var lab_PassEnSup = document.createElement('div');
            lab_PassEnSup.innerHTML = 'PassEnSup';
            lab_PassEnSup.className = 'filterlabel';
            div_PassEnSup.appendChild(lab_PassEnSup);
            var reset_PassEnSup = document.createElement('div');
            reset_PassEnSup.innerHTML = 'clear filter';
            reset_PassEnSup.className = 'filterlabel';
            reset_PassEnSup.onclick = function() {
                var options = document.getElementById("sel_PassEnSup").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_PassEnSup.appendChild(reset_PassEnSup);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Nature = document.createElement('div');
            div_Nature.id = "div_Nature";
            div_Nature.className= "filterselect";
            document.getElementById("menu").appendChild(div_Nature);
            sel_Nature = document.createElement('select');
            sel_Nature.multiple = true;
            sel_Nature.size = 2;
            sel_Nature.id = "sel_Nature";
            var Nature_options_str = "<option value='' unselected></option>";
            sel_Nature.onchange = function(){filterFunc()};
            Nature_options_str  += '<option value="College">College</option>';
            Nature_options_str  += '<option value="Lycee">Lycee</option>';
            sel_Nature.innerHTML = Nature_options_str;
            div_Nature.appendChild(sel_Nature);
            var lab_Nature = document.createElement('div');
            lab_Nature.innerHTML = 'Nature';
            lab_Nature.className = 'filterlabel';
            div_Nature.appendChild(lab_Nature);
            var reset_Nature = document.createElement('div');
            reset_Nature.innerHTML = 'clear filter';
            reset_Nature.className = 'filterlabel';
            reset_Nature.onclick = function() {
                var options = document.getElementById("sel_Nature").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Nature.appendChild(reset_Nature);
        </script>
    </body>
</html>
